# This file contains the default model configurations that come with Chap
# This file is parsed to seed the database with models on startup.
# Any other *.yaml file in this directory is also read.
# Do not edit this file directly, as it will be overwritten when you update chap-core.
# Instead, to add models, add any other *.yaml file in this directory following the same format as here.

chap_ewars_monthly: 
  url: https://github.com/dhis2-chap/chap_auto_ewars
  versions:
    nightly_build: "@main"
    stable: "@0c41b1d9bd187521e62c58d581e6f5bd5127f7b5"
  configurations:
    default:
      user_option_values:
        n_iterations: 3

chap_ewars_weekly: 
  url: https://github.com/dhis2-chap/chap_auto_ewars_weekly
  versions:
    nightly_build: "@main"
    stable: "@51c63a8581bc29bdb40e788a83f701ed30cca83f"
  configurations:
    default:
      user_option_values:
        n_iterations: 3

auto_regressive_monthly: 
  url: https://github.com/sandvelab/monthly_ar_model
  versions:
    nightly_build: "@master"
    stable: "@7c40890df749506c72748afda663e0e1cde4e36a"
  configurations:
    default:
      user_option_values:
        n_iterations: 3

auto_regressive_weekly: 
  url: https://github.com/knutdrand/weekly_ar_model
  versions:
    old_version: "@36a537dac138af428a4167b2a89eac7dafd5d762"
    nightly_build: "@master"
    stable: "@15cc39068498a852771c314e8ea989e6b555b8a5"
  configurations:
    default:
      user_option_values:
        n_iterations: 3

deep_learning_model:
  url: https://github.com/dhis2-chap/chtorch
  versions:
    v1: "@40a8211bef6d0e078f054b66139ef3fc39021ac2"
    v2: "@382ae24106b86cd897e2803dd3f50a4b05a2ecfa"
  configurations:
    medium:
      user_option_values:
        max-epochs: 200
        embedding-type: "sum"
        learning-rate: 0.0005
        embed-dim: 4
        n-hidden: 4
        state-dim: 6
        num-rnn-layers: 1
        output-embedding-dim: 1
        batch-size: 64
        prediction-length: 3
        context-length: 12
        max-dim: 16
        weight-decay: 0.0005
        direct-ar: true
        dropout: 0.4
      additional_continuous_covariates:
        - mean_temperature
        - rainfall
    debug:
        user_option_values:
            max-epochs: 2

